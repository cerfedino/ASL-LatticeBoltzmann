VERSION=3
COMMIT=""
TITLE="OPTIMIZE FEQ"
DESC="Optmized out the feq operations. Didn't expect much optimization in terms of cycles, as the compiler already does those, but now we have a better estimation"
WORK=NX * NY * NZ * 15 * 22 + NX * NY * NZ * 15 * 7 + NX * NY * NZ * 3 + 4*NZ  + NX*NZ*5*6
DATA_MOV=8 * NX * NY * NZ * 15 * 7 + (NX * NY * NZ * 3 + 15) * 8+8 * (4 * NX * NY * NZ + 15 + 15)+2 * 8 * NZ * NX * NY * 15 + 2 * 8 + NX*NY*NZ*15*8*2
# These are values for the AMD Zen 3+ architecture

# Assuming RAM running at 3200 Mhz
MEM_BW=51200

# According to anger.org, we have:
# - 2 FMA/cycle, 2 ports (0 & 1) --> 4 Flops/Cycle 
# - 2 ADD/cycle, 2 ports (2 & 3) --> 2 Flops/Cycle
# Total: 6 Flops/Cycle
PEAK_SCALAR=6

# Zen3 supports AVX256
SIMD_LEN_BITS=256